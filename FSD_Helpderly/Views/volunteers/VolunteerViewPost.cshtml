@model IEnumerable<FSD_Helpderly.Models.ElderlyPost>

<head>
    <link rel="stylesheet" href="~/css/Volunteers.css" />
</head>

<div>
    <div class="table-responsive">
        <div class="unfilteredTable">
            <form asp-action="VolunteerViewPost" method="post">
                <label>Filer By Region:</label>
                <select type="text" id="region">
                    <option value="North">North</option>
                    <option value="South">South</option>
                    <option value="East">East</option>
                    <option value="West">West</option>
                    <option value="Central">Central</option>
                </select>
                <button type="button" id="filter" class="btn btn-outline-primary" onclick="filterRegion()">Filter</button>
                <button type="button" id="reset" class="btn btn-outline-secondary" onClick="window.location.reload();">Reset</button>
                <br /><br />
                <label for="startTime">Filter by Start Time</label>
                <input type="datetime-local" id="startTime" name="startTime">
                <label for="startTime">Filter by End Time</label>
                <input type="datetime-local" id="endTime" name="endTime"><br /><br />
                <button type="button" id="filter" class="btn btn-outline-primary">Filter</button>
            </form>


            <table id="viewStaff" class="table-striped table-bordered">
                <thead class="thead-dark">
                    <tr>
                        <th>Name</th>
                        <th>Start Time</th>
                        <th>EndTime <br />
                        <th>Region</th>
                        <th>Quantity Volunteer</th>
                        <th>View Details</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>@item.Name</td>
                            <td>@item.StartTime</td>
                            <td>@item.EndTime</td>
                            <td>@item.Region</td>
                            <td>@item.CurrentQuantityVolunteer / @item.QuantityVolunteer</td>
                            <td>
                                <a asp-action="ViewPostDetails" asp-controller="Home"
                                   asp-route-id="@item.FormID">View</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

    </div>
</div>

<script>
    function filterRegion() {
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("region");
        filter = input.value.toUpperCase();
        table = document.getElementById("viewStaff");
        tr = table.getElementsByTagName("tr");
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[8];
            if (td) {
                txtValue = td.textContent || td.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }

    function resetFilter() {

    }
</script>

